#!/bin/bash

PACKAGE_NAME=system-monitor
PACKAGE_VERSION=0.7.0


case $(uname) in
  Darwin|*BSD|CYGWIN*) sed="sed -E" ;;
  *)                   sed="sed -r" ;;
esac

main() {
  fill Makefile
  fill install.rdf
  fill chrome.manifest
}

fill() {
  $sed -e "s/@PACKAGE_NAME@/${PACKAGE_NAME}/g" \
       -e "s/@PACKAGE_VERSION@/${PACKAGE_VERSION}/g" \
       ./$1.in \
    > $1
}

main
exit 0
